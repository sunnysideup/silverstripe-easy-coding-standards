#!/bin/bash
SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"
WORKING_DIR=$(pwd)
: ${dir:=app/src}
: ${also:=app/_config.php}
: ${message:=LINTING}
: ${logFile:=LINTING_ERRORS.txt}


echo "---------------------------------";
echo "Running GIT PUSH";
echo "---------------------------------";
echo "directory of script: $SCRIPT_DIR";
echo "directory to commit: $WORKING_DIR/$dir";

echo "messge: $message";
echo "Available settings (in front of command: dir, also, ecsConfig)";
echo "e.g. dir=foo/bar sslint-ecs";
echo "---------------------------------";

echo "# going to right directory: $WORKING_DIR/$dir"
cd $WORKING_DIR/$dir

echo "# adding files to git repo"
git add . -A
#git add $WORKING_DIR/$also
#git add $WORKING_DIR/$logFile

echo "# committing files to git repo"
git commit . -m "$message"
#git commit $WORKING_DIR/$also -m "$message"
#git commit $WORKING_DIR/$logFile -m "$message"

echo "# pushing commits to git repo"
git push

echo "# going back to: $WORKING_DIR"
cd $WORKING_DIR
